			SYSCALL-REPLAYER
			================


*HOW TO RUN STRACE
------------------- 
Trace "simple-read.sys" is generated by using following command:

strace -ttt -e trace=open,close,read,write,lseek,pread,stat -s 4096 -o simple-program.sys ./syscall-simple-program sample-read-input.txt output.txt 

Trace "write-simple-program.sys" is generated by using following command

strace -ttt -e trace=open,close,read,write,lseek,pread,stat -s 4096 -o write-simple-program.sys ./write-simple-program -n <ITERATIONS> output.txt

Trace "pread-simple-program.sys" is generated by using following command

strace -ttt -e trace=open,close,read,write,lseek,pread,stat -s 4096 -o pread-simple-program.sys ./pread-simple-program <filename.txt> <offset> <#bytes_to_read>

Trace "stat-simple-program.sys" is generated by using following command

strace -ttt -v -e trace=open,close,read,write,lseek,pread,stat -s 4096 -o stat-simple-program.sys ./stat-simple-program <filename.txt>


*Notes on system call fields
-------------------------------
Our converter and replayer follow SNIA specification document - "POSIX System-Call Trace Common Semantics".
The document requires system call traces to store individual bits, but storing integer encoding is optional
since individual bits can be used to construct integer encoding value. When our converter converts strace traces
to DataSeries, our converter stores both integer encoding and all individual bits in the DataSeries output file.
The main reason we chose to store both fields because we want our replayer to be fast. Spending time in composing
a value will add overhead to the replayer. Storing both values also gives people the flexibility of extracinting
data that they want. Even though DataSeries files that our converter produces contain individual bits,
all of our replaying modules only extract integer encoding value from the DataSeries file since the modules
are not using individual bits. Modification to the reaplaying modules is required to extract those bits.
One great example is open system call. Integer encoding is its mode value and individual bits are mode_R_user, mode_W_user, etc.
Open module only has mode_value_ field. It doesn't have fields for individual bits even though the DataSeries contains
mode value bits.

*WARN LEVELS OF PROGRAM
-----------------------
The syscall-replayer program runs in 3 modes:
1. DEFAULT MODE (0)
	In this mode, program runs ignoring any warning or error messages.
	USAGE: ./syscall-replayer -w 0 test.ds
	USAGE: ./syscall-replayer test.ds

2. WARN MODE (1)
	In this mode, if the our replayed data is different from DataSeries
   replayed data, the program outputs the warning messages.
	USAGE: ./syscall-replayer -w 1 test.ds

3. ABORT MODE (2)
	In this mode, the program simply aborts if our replayed data is 
   different from DataSeries replayed data.
	USAGE: ./syscall-replayer -w 2 test.ds
